<h1>Parameter search runs</h1>
<div class="input-group">
  <!-- <span style="margin-left:15px;"><b>Enter a path for a simrun directory to insert to the db:</b></span> -->
  <label for="simrun-name">Enter parameter search name</label>
  <input
    style="margin-left: 15px; margin-right: 5px"
    type="text"
    ng-model="$ctrl.paramsearch_name"
    name="paramsearch-name"
    ng-init="$ctrl.paramsearch_name ='SelfSustainedPushPull'"
  />
  <label for="file-path1">Enter path to parameter search directory</label>
  <input
    style="margin-left: 15px; margin-right: 5px"
    type="text"
    ng-model="$ctrl.file_path1"
    name="file-path1"
    ng-init="$ctrl.file_path1 ='arkheia_example_data'"
  />
  <label for="file-path2">(optional) Enter path to parameter search second directory</label>
  <input
    style="margin-left: 15px; margin-right: 5px"
    type="text"
    ng-model="$ctrl.file_path2"
    name="file-path2"
    ng-init="$ctrl.file_path2 =''"
  />
  <button ng-click="$ctrl.insertParamSearch()">Insert</button>
</div>
<table class="table table-striped">
  <thead>
    <th tooltip-append-to-body="true" uib-tooltip="The date when the parameter search was submitted to the repository.">
      Submission date
    </th>
    <th tooltip-append-to-body="true" uib-tooltip="The date when the simulation was ran.">Run date ~</th>
    <th tooltip-append-to-body="true" uib-tooltip="The name of the simulation instance.">Name</th>
    <th tooltip-append-to-body="true" uib-tooltip="The name of the model that was simulated.">Model name</th>
    <th
      tooltip-append-to-body="true"
      uib-tooltip="Click the 'eye' icon to inspect individual runs of the parameter search."
    >
      View individual runs
    </th>
    <th
      tooltip-append-to-body="true"
      uib-tooltip="Click the 'eye' icon to perform parameter dependent interactive inspection of the paramter search results."
    >
      Inspect results
    </th>
    <th tooltip-append-to-body="true" uib-tooltip="Click the 'cross' icon to delete the parameter search run.">
      Delete results
    </th>
  </thead>
  <tbody>
    <tr ng-repeat="data in $ctrl.data">
      <td>{{data[0].submission_date | date : 'dd-MM-yy H:m'}}</td>
      <td>{{$ctrl.getRunDate(data[1]) | date : 'dd-MM-yy H:m'}}</td>
      <td>{{data[0].name.substring(data[0].name.lastIndexOf(']')+1)}}</td>
      <td>{{data[1].model_name}}</td>
      <td>
        <a href="/simruns/{{data[0]._id}}" class="btn btn-sm">
          <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
        </a>
      </td>
      <td>
        <a href="/param-search-inspect/{{data[0]._id}}" class="btn btn-sm">
          <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
        </a>
      </td>
      <td>
        <a ng-click="$ctrl.deleteParamSearch(data[0]._id)" class="btn btn-sm">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </a>
      </td>
    </tr>
  </tbody>
</table>
